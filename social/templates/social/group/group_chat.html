{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-4">
    <h2>{{ group.name }} - Chat</h2>
    <div class="chat-box">
        {% for message in messages %}
        <div class="message">
            <strong>{{ message.user.username }}:</strong> {{ message.content }}
            <span class="timestamp">{{ message.timestamp|date:"SHORT_DATETIME_FORMAT" }}</span>
        </div>
        {% endfor %}
    </div>
    <form method="POST" class="mt-3">
        {% csrf_token %}
        {{ form.content|as_crispy_field }}
        <button type="submit" class="btn btn-primary">Send</button>
    </form>
</div>
{% endblock %}